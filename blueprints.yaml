name: Image server (Responsive images)
version: 1.0.0~alpha1
description: "Adds responsive images with breakpoints, density (retina), lazy-loading and webp support. Additionally configure sets for editor including image ratios."
icon: object-group
author:
  name: Xaver Maierhofer | catchIT GmbH
  company: catchIT GmbH
demo: https://image-server.grav.catchit.xyz/
homepage: https://github.com/catch-IT/grav-image-server/
keywords: plugin, image, retina, responsive, webp, twig, helper
bugs: https://github.com/catch-IT/grav-image-server/issues
license: MIT

form:
  validation: strict
  fields:
    admin_tabs:
      type: tabs
      fields:
        config_tab:
          type: tab
          title: Basic

          fields:
            enabled:
              type: toggle
              label: Plugin status
              highlight: 1
              default: 0
              options:
                1: Enabled
                0: Disabled
              validate:
                type: bool

            class:
              type: input
              label: Standard class
              help: Most frameworks use a standard responsive class like `img-fluid`
              size: medium
              default:
              validate:
                type: text

            density:
              type: toggle
              label: Max denisty (depending on image size)
              help: This is often mentioned as retina images
              highlight: 2
              default: 2
              options:
                1: 1x
                2: 2x
                3: 3x
              validate:
                type: integer

            quality.2x:
              type: number
              size: x-small
              append: "% Quality"
              label: "Quality 2x density"
              default: 65
              validate:
                type: number
                step: 1
                min: 1
                max: 100
              help: "Quality of 2x image - Default: 65"

            quality.3x:
                type: number
                size: x-small
                append: "% Quality"
                label: "Quality 3x density"
                default: 60
                validate:
                  type: number
                  step: 1
                  min: 1
                  max: 100
                help: "Quality of 3x image - Default: 60"

            breakpoints:
              type: array
              label: Breakpoints (in px)
              help: Normally the values are 1:1 or remove 15px per site indend so 360px page is 330px image. Intersting in page 50/50 grid or something like that
              default:
                768: '768'
                480: '480'
              placeholder_key: Image width
              placeholder_value: Page width

            maxPageWidth:
              type: number
              size: x-small
              label: Max Page/image width
              help: Most images are not defined 100% page with e.g. 4k or 8k screens
              append: "px"
              default: 1280
              validate:
                type: number
                step: 1
                min: 360

            loading:
              type: toggle
              label: Lazy loading images
              help: Uses the HTML attribute
              highlight: lazy
              default: lazy
              options:
                eager: eager
                lazy: lazy
                auto: auto
              validate:
                type: text

        advanced_tab:
          type: tab
          title: Advanced sets

          fields:
            sets:
              name: sets
              type: list
              label: Config sets
              help: Allows diffrerent image with with breakpoints overwrite the normal setting. e.g. 25/25/50 grid and 50/50-100 on mobile
              fields:
                .key:
                  type: key
                  label: Preset name
                  help: Name the preset used as parameter
                  placeholder: e.g. 50p or header-image

                .breakpoints:
                  type: array
                  label: Breakpoints (in px) (optional)
                  help: Normally the values are 1:1 or remove 15px per site indend so 360px page is 330px image. Intersting in page 50/50 grid or something like that
                  placeholder_key: Image width
                  placeholder_value: Page width

                .maxWidth:
                  type: number
                  size: medium
                  label: Max image width (optional)
                  help: Most images are not defined 100% page with e.g. 4k or 8k screens
                  append: "px"
                  placeholder: inherit
                  validate:
                    type: number
                    step: 1

                .ratio:
                  type: number
                  label: Ratio (optional)
                  append: "%"
                  help: < 1 is wider image, > 1 is higher image
                  size: medium
                  validate:
                    type: number
                    step: 0.00001

                .loading:
                  type: toggle
                  label: Lazy loading images (optional)
                  help: Uses the HTML attribute
                  options:
                    unset: inherit
                    eager: eager
                    lazy: lazy
                    auto: auto
                  validate:
                    type: text

                .class:
                  type: input
                  label: Standard class (optional)
                  help: Most frameworks usw a standard responsive class like `img-fluid`
                  size: medium
                  placeholder: inherit
                  validate:
                    type: text
